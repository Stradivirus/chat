{"ast":null,"code":"import React,{useEffect,useRef}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ChatMessages(_ref){let{messages,currentUserId}=_ref;// 메시지 목록의 끝을 참조하기 위한 ref\nconst messagesEndRef=useRef(null);// 메시지 목록의 맨 아래로 스크롤하는 함수\nconst scrollToBottom=()=>{var _messagesEndRef$curre;// ref가 존재하면 해당 요소로 부드럽게 스크롤\n(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:\"smooth\"});};// messages 배열이 변경될 때마다 스크롤을 맨 아래로 이동\nuseEffect(scrollToBottom,[messages]);return/*#__PURE__*/_jsxs(\"div\",{className:\"chat-messages\",children:[messages.map((message,index)=>{// 디버깅을 위해 각 메시지 객체를 콘솔에 출력\nconsole.log('Message object:',message);return/*#__PURE__*/_jsxs(\"div\",{// 현재 사용자의 메시지인 경우 'user' 클래스를, 아닌 경우 'other' 클래스를 적용\nclassName:`message ${message.sender===currentUserId?'user':'other'}`,children:[message.sender!==currentUserId&&/*#__PURE__*/_jsxs(\"span\",{className:\"message-username\",children:[/*#__PURE__*/_jsx(\"strong\",{children:message.username}),\" \"]}),/*#__PURE__*/_jsx(\"span\",{children:message.text||message.message||'내용 없음'})]},index);}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]});}export default ChatMessages;","map":{"version":3,"names":["React","useEffect","useRef","jsx","_jsx","jsxs","_jsxs","ChatMessages","_ref","messages","currentUserId","messagesEndRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","className","children","map","message","index","console","log","sender","username","text","ref"],"sources":["/home/work/chat/front/src/components/ChatMessages.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\n\nfunction ChatMessages({ messages, currentUserId }) {\n  // 메시지 목록의 끝을 참조하기 위한 ref\n  const messagesEndRef = useRef(null);\n\n  // 메시지 목록의 맨 아래로 스크롤하는 함수\n  const scrollToBottom = () => {\n    // ref가 존재하면 해당 요소로 부드럽게 스크롤\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  // messages 배열이 변경될 때마다 스크롤을 맨 아래로 이동\n  useEffect(scrollToBottom, [messages]);\n\n  return (\n    <div className=\"chat-messages\">\n      {/* 메시지 배열을 순회하며 각 메시지를 렌더링 */}\n      {messages.map((message, index) => {\n        // 디버깅을 위해 각 메시지 객체를 콘솔에 출력\n        console.log('Message object:', message);\n        \n        return (\n          <div \n            key={index} \n            // 현재 사용자의 메시지인 경우 'user' 클래스를, 아닌 경우 'other' 클래스를 적용\n            className={`message ${message.sender === currentUserId ? 'user' : 'other'}`}\n          >\n            {/* 다른 사용자의 메시지인 경우 사용자 이름 표시 */}\n            {message.sender !== currentUserId && (\n              <span className=\"message-username\"><strong>{message.username}</strong> </span>\n            )}\n            {/* 메시지 내용 표시 */}\n            <span>{message.text || message.message || '내용 없음'}</span>\n          </div>\n        );\n      })}\n      {/* 메시지 목록의 끝을 표시하는 빈 div. 스크롤 위치 조정에 사용됨 */}\n      <div ref={messagesEndRef} />\n    </div>\n  );\n}\n\nexport default ChatMessages;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjD,QAAS,CAAAC,YAAYA,CAAAC,IAAA,CAA8B,IAA7B,CAAEC,QAAQ,CAAEC,aAAc,CAAC,CAAAF,IAAA,CAC/C;AACA,KAAM,CAAAG,cAAc,CAAGT,MAAM,CAAC,IAAI,CAAC,CAEnC;AACA,KAAM,CAAAU,cAAc,CAAGA,CAAA,GAAM,KAAAC,qBAAA,CAC3B;AACA,CAAAA,qBAAA,CAAAF,cAAc,CAACG,OAAO,UAAAD,qBAAA,iBAAtBA,qBAAA,CAAwBE,cAAc,CAAC,CAAEC,QAAQ,CAAE,QAAS,CAAC,CAAC,CAChE,CAAC,CAED;AACAf,SAAS,CAACW,cAAc,CAAE,CAACH,QAAQ,CAAC,CAAC,CAErC,mBACEH,KAAA,QAAKW,SAAS,CAAC,eAAe,CAAAC,QAAA,EAE3BT,QAAQ,CAACU,GAAG,CAAC,CAACC,OAAO,CAAEC,KAAK,GAAK,CAChC;AACAC,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAEH,OAAO,CAAC,CAEvC,mBACEd,KAAA,QAEE;AACAW,SAAS,CAAE,WAAWG,OAAO,CAACI,MAAM,GAAKd,aAAa,CAAG,MAAM,CAAG,OAAO,EAAG,CAAAQ,QAAA,EAG3EE,OAAO,CAACI,MAAM,GAAKd,aAAa,eAC/BJ,KAAA,SAAMW,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAACd,IAAA,WAAAc,QAAA,CAASE,OAAO,CAACK,QAAQ,CAAS,CAAC,IAAC,EAAM,CAC9E,cAEDrB,IAAA,SAAAc,QAAA,CAAOE,OAAO,CAACM,IAAI,EAAIN,OAAO,CAACA,OAAO,EAAI,OAAO,CAAO,CAAC,GATpDC,KAUF,CAAC,CAEV,CAAC,CAAC,cAEFjB,IAAA,QAAKuB,GAAG,CAAEhB,cAAe,CAAE,CAAC,EACzB,CAAC,CAEV,CAEA,cAAe,CAAAJ,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}