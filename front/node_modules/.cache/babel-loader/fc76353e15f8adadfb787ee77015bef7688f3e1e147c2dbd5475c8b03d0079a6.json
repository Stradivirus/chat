{"ast":null,"code":"// src/components/ChatInput.js\nimport React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ChatInput(_ref){let{onSendMessage,isLoggedIn,chatBanTimeLeft}=_ref;const[message,setMessage]=useState('');const[isButtonDisabled,setIsButtonDisabled]=useState(false);useEffect(()=>{if(chatBanTimeLeft>0){setIsButtonDisabled(true);const timer=setInterval(()=>{setChatBanTimeLeft(prev=>Math.max(0,prev-1));},1000);return()=>clearInterval(timer);}else{setIsButtonDisabled(false);}},[chatBanTimeLeft]);const handleSubmit=e=>{e.preventDefault();if(message.trim()&&isLoggedIn&&chatBanTimeLeft===0){onSendMessage(message);setMessage('');setIsButtonDisabled(true);setTimeout(()=>setIsButtonDisabled(false),500);}};return/*#__PURE__*/_jsxs(\"form\",{className:\"chat-input\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:message,onChange:e=>setMessage(e.target.value),placeholder:isLoggedIn?chatBanTimeLeft>0?`채팅 금지: ${chatBanTimeLeft}초 남음`:\"메시지를 입력하세요 (최대 30자)\":\"로그인 후 이용 가능합니다\",maxLength:30,disabled:!isLoggedIn||chatBanTimeLeft>0}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isButtonDisabled||!isLoggedIn||chatBanTimeLeft>0,children:isLoggedIn?chatBanTimeLeft>0?`${chatBanTimeLeft}초`:\"전송\":\"로그인 해주세요\"})]});}export default ChatInput;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","ChatInput","_ref","onSendMessage","isLoggedIn","chatBanTimeLeft","message","setMessage","isButtonDisabled","setIsButtonDisabled","timer","setInterval","setChatBanTimeLeft","prev","Math","max","clearInterval","handleSubmit","e","preventDefault","trim","setTimeout","className","onSubmit","children","type","value","onChange","target","placeholder","maxLength","disabled"],"sources":["/home/work/chat/front/src/components/ChatInput.js"],"sourcesContent":["// src/components/ChatInput.js\n\nimport React, { useState, useEffect } from 'react';\n\nfunction ChatInput({ onSendMessage, isLoggedIn, chatBanTimeLeft }) {\n  const [message, setMessage] = useState('');\n  const [isButtonDisabled, setIsButtonDisabled] = useState(false);\n\n  useEffect(() => {\n    if (chatBanTimeLeft > 0) {\n      setIsButtonDisabled(true);\n      const timer = setInterval(() => {\n        setChatBanTimeLeft(prev => Math.max(0, prev - 1));\n      }, 1000);\n      return () => clearInterval(timer);\n    } else {\n      setIsButtonDisabled(false);\n    }\n  }, [chatBanTimeLeft]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (message.trim() && isLoggedIn && chatBanTimeLeft === 0) {\n      onSendMessage(message);\n      setMessage('');\n      setIsButtonDisabled(true);\n      setTimeout(() => setIsButtonDisabled(false), 500);\n    }\n  };\n\n  return (\n    <form className=\"chat-input\" onSubmit={handleSubmit}>\n      <input\n        type=\"text\"\n        value={message}\n        onChange={(e) => setMessage(e.target.value)}\n        placeholder={isLoggedIn \n          ? (chatBanTimeLeft > 0 \n            ? `채팅 금지: ${chatBanTimeLeft}초 남음` \n            : \"메시지를 입력하세요 (최대 30자)\")\n          : \"로그인 후 이용 가능합니다\"}\n        maxLength={30}\n        disabled={!isLoggedIn || chatBanTimeLeft > 0}\n      />\n      <button \n        type=\"submit\" \n        disabled={isButtonDisabled || !isLoggedIn || chatBanTimeLeft > 0}\n      >\n        {isLoggedIn \n          ? (chatBanTimeLeft > 0 ? `${chatBanTimeLeft}초` : \"전송\") \n          : \"로그인 해주세요\"}\n      </button>\n    </form>\n  );\n}\n\nexport default ChatInput;"],"mappings":"AAAA;AAEA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnD,QAAS,CAAAC,SAASA,CAAAC,IAAA,CAAiD,IAAhD,CAAEC,aAAa,CAAEC,UAAU,CAAEC,eAAgB,CAAC,CAAAH,IAAA,CAC/D,KAAM,CAACI,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACa,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CAE/DC,SAAS,CAAC,IAAM,CACd,GAAIS,eAAe,CAAG,CAAC,CAAE,CACvBI,mBAAmB,CAAC,IAAI,CAAC,CACzB,KAAM,CAAAC,KAAK,CAAGC,WAAW,CAAC,IAAM,CAC9BC,kBAAkB,CAACC,IAAI,EAAIC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAEF,IAAI,CAAG,CAAC,CAAC,CAAC,CACnD,CAAC,CAAE,IAAI,CAAC,CACR,MAAO,IAAMG,aAAa,CAACN,KAAK,CAAC,CACnC,CAAC,IAAM,CACLD,mBAAmB,CAAC,KAAK,CAAC,CAC5B,CACF,CAAC,CAAE,CAACJ,eAAe,CAAC,CAAC,CAErB,KAAM,CAAAY,YAAY,CAAIC,CAAC,EAAK,CAC1BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAIb,OAAO,CAACc,IAAI,CAAC,CAAC,EAAIhB,UAAU,EAAIC,eAAe,GAAK,CAAC,CAAE,CACzDF,aAAa,CAACG,OAAO,CAAC,CACtBC,UAAU,CAAC,EAAE,CAAC,CACdE,mBAAmB,CAAC,IAAI,CAAC,CACzBY,UAAU,CAAC,IAAMZ,mBAAmB,CAAC,KAAK,CAAC,CAAE,GAAG,CAAC,CACnD,CACF,CAAC,CAED,mBACET,KAAA,SAAMsB,SAAS,CAAC,YAAY,CAACC,QAAQ,CAAEN,YAAa,CAAAO,QAAA,eAClD1B,IAAA,UACE2B,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEpB,OAAQ,CACfqB,QAAQ,CAAGT,CAAC,EAAKX,UAAU,CAACW,CAAC,CAACU,MAAM,CAACF,KAAK,CAAE,CAC5CG,WAAW,CAAEzB,UAAU,CAClBC,eAAe,CAAG,CAAC,CAClB,UAAUA,eAAe,MAAM,CAC/B,qBAAqB,CACvB,gBAAiB,CACrByB,SAAS,CAAE,EAAG,CACdC,QAAQ,CAAE,CAAC3B,UAAU,EAAIC,eAAe,CAAG,CAAE,CAC9C,CAAC,cACFP,IAAA,WACE2B,IAAI,CAAC,QAAQ,CACbM,QAAQ,CAAEvB,gBAAgB,EAAI,CAACJ,UAAU,EAAIC,eAAe,CAAG,CAAE,CAAAmB,QAAA,CAEhEpB,UAAU,CACNC,eAAe,CAAG,CAAC,CAAG,GAAGA,eAAe,GAAG,CAAG,IAAI,CACnD,UAAU,CACR,CAAC,EACL,CAAC,CAEX,CAEA,cAAe,CAAAJ,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}